---
sidebar_position: 1
---
# 管理数据源

NineData 支持将不同类型、不同环境的数据源添加到控制台中进行统一管理，您可以对已经添加后的数据源使用 SQL 开发、备份与恢复、数据复制、数据库对比等功能。

### 注意事项

- 当前支持的云厂商：阿里云、腾讯云、华为云、AWS<!--、移动云-->
- 当前支持的数据库类型：MySQL、SQL Server、ClickHouse

### 添加自建数据源

1. 登录 [NineData 控制台](https://console.ninedata.cloud)。

2. 在左侧导航栏，单击**数据源管理**>**数据源**。

3. 在**创建数据源**页面，根据下表配置参数。

   | 参数<div style={{width:'60pt'}}></div> | 说明                                                         |
   | -------------------------------------- | ------------------------------------------------------------ |
   | **数据源名称**                         | 输入数据源的名称，为了方便后续查找和管理，请尽量使用有意义的名称。 |
   | **数据源位置**                         | 选择**公网/自建/他云**。                                     |
   | **环境**                               | 根据该数据源的实际业务用途进行选择，作为数据源的环境标识。默认提供**生产**和**开发**环境，同时支持您[创建自定义环境](#附录创建环境)。<br />**说明**：在[组织模式](../account/intro_account.md#organization)下，数据库环境还可应用于权限策略管理，例如，默认情况下的**生产环境管理员**角色仅支持访问**生产**环境下的数据源，无法访问其他环境的数据源。更多信息，请参见[管理角色](../account/manage_role.md)。 |
   | **数据库类型**                         | 选择数据源的数据库类型，支持 **MySQL**、**SQL Server**、**ClickHouse** 三种数据源。 |
   | **连接方式**                           | 选择数据源的接入方式。支持通过**公网地址**、**网关**、**SSH Tunnel 连接**三种方式接入。<ul><li>**公网地址**：通过公网地址接入数据源，需要在**连接地址**中输入数据源的公网连接地址。</li><li>**网关**：NineData 提供的安全快捷的内网访问方式，需先将数据源所在主机接入，接入方式请参见[添加网关](gateway.md)。然后在下方选择已接入的**网关**和**连接地址**，**连接地址**可以写成 **localhost** 或者内网 IP。</li><li>**SSH Tunnel 连接**：通过 SSH 隧道接入数据源。你还需要输入 **SSH 主机**和对应端口、**SSH 认证方式**、**SSH 用户名**以及 SSH 方式的**连接地址**。</li></ul> |
   | **用户名**                             | 数据源的用户名。                                             |
   | **密码**                               | 数据源的密码。                                               |
   | **加密传输**                           | 是否使用 SSL 加密方式访问数据源。单击**加密传输**左侧的**>**可以展开详细配置。 |

4. 全部配置完成后，单击**密码**右侧的**连接测试**可以测试该数据源是否可以正常访问，提示**连接成功**即可单击**创建数据源**，完成数据源的添加。否则请重新检查连接设置，直到连接测试成功为止。

### 添加云厂商数据源

1. 登录 [NineData 控制台](https://console.ninedata.cloud)。

2. 在左侧导航栏，单击**数据源管理**>**数据源**。

3. 在**创建数据源**页面，根据下表配置参数。在**创建数据源**页面，根据下表配置参数。

   | 参数<div style={{width:'60pt'}}></div> | 说明                                                         |
   | -------------------------------------- | ------------------------------------------------------------ |
   | **数据源名称**                         | 输入数据源的名称，为了方便后续查找和管理，请尽量使用有意义的名称。 |
   | **数据源位置**                         | 选择您数据源对应的云厂商，支持**阿里云**、**腾讯云**、**华为云**、**AWS**。本文以**阿里云**为例进行说明。 |
   | **环境**                               | 根据该数据源的实际业务用途进行选择，作为数据源的环境标识。默认提供**生产**和**开发**环境，同时支持您[创建自定义环境](#附录创建环境)。<br />**说明**：在[组织模式](../account/intro_account.md#组织)下，数据库环境还可应用于权限策略管理，例如，默认情况下的**生产环境管理员**角色仅支持访问**生产**环境下的数据源，无法访问其他环境的数据源。更多信息，请参见[管理角色](../account/manage_role.md)。 |
   | **实例类型**                           | 数据源实例的类型，需要您根据自身的实例类型进行选择。支持如下数据库类型：<ul><li>**ECS 自建**（AWS 为 **EC2 自建**）：建立在云厂商 ECS 实例上的自建数据库。</li><li>**通过专线/VPN 网关/智能网关接入自建数据库**：通过阿里云的网络连接服务接入的自建数据库。</li><li>**云数据库 RDS**：云厂商的关系型数据库实例。</li><li>**PolarDB**：阿里云的云原生关系型数据库实例。</li><li>**云数据库 ClickHouse**：阿里云的 ClickHouse 实例。</li><li>**TDSQL-C**：腾讯云的云原生关系型数据库实例。</li><li>**GaussDB**：华为云的 GaussDB 分布式数据库实例。</li><li>**Aurora**：AWS 的云原生关系型数据库实例。</li></ul> |
   | **数据库类型**                         | 选择数据源的数据库类型，根据云厂商的不同，支持的数据源也不同。详情请参见配置页面。 |
   | **连接方式**                           | 选择数据源的接入方式。<ul><li>**私网**（当前仅支持阿里云）：通过云厂商的私网连接地址进行连接，需先将该私网地址接入 NineData。接入方式请参见[添加私网地址](private_link.md)。然后在下方选择已接入的**私网连接**。</li><li>**公网地址**：通过公网地址接入数据源，需要在**连接地址**中输入实例的公网连接地址。</li><li>**网关**（仅支持自建库）：NineData 提供的安全快捷的内网访问方式，需先将数据源所在主机接入，接入方式请参见[添加网关](gateway.md)。后在下方选择已接入的**网关**和**连接地址**，**连接地址**可以写成 **localhost** 或者内网 IP。</li><li>**SSH Tunnel 连接**：通过 SSH 隧道接入数据源。你还需要输入 **SSH 主机**和对应端口、**SSH 认证方式**、**SSH 用户名**以及 SSH 方式的**连接地址**。</li></ul> |
   | **接入方式**                           | 选择接入方式，支持以**实例 ID**或**连接地址**的形式接入。<ul><li>**实例 ID**：通过 ECS（EC2）或云数据库的实例 ID 接入。选择此项还需要选择**云厂商访问凭证**、**接入地域**以及**实例 ID** 等参数。**云厂商访问凭证**需要提前配置，配置方法请参见[配置云厂商访问凭证](access_credentials.md)。</li><li>**连接地址**：通过实例的连接地址接入，根据**连接方式**不同，**连接地址**不尽相同，详情请参见上方**连接方式**的说明。</li></ul> |
   | **用户名**                             | 数据源的用户名。                                             |
   | **密码**                               | 数据源的密码。                                               |
   | **加密传输**                           | 是否使用 SSL 加密方式访问数据源。单击**加密传输**左侧的**>**可以展开详细配置。 |

4. 全部配置完成后，单击**密码**右侧的**连接测试**可以测试该数据源是否可以正常访问，提示**连接成功**即可单击**创建数据源**，完成数据源的添加。否则请重新检查连接设置，直到连接测试成功为止。

### 附录：创建环境

为应对不同企业需求，NineData 除了提供默认的**生产**和**开发**环境以外，还支持您手动创建自定义环境。

1. 登录 [NineData 控制台](https://console.ninedata.cloud)。

2. 在左侧导航栏，单击**数据源管理**>**数据源**。

3. 单击**环境**页签，此处展示当前[用户](../account/intro_account#用户)（个人模式）或[组织](../account/intro_account#组织)（组织模式）下的所有环境。您可以在这里**编辑**或**删除**自定义创建的环境。

4. 单击页面右上角的**创建环境**。

5. 输入**环境名称**以及该环境在控制台中展示的**颜色**，单击**确定**。

   :::tip

   **环境名称**作为环境的标识，需要具有一定的辨识度，请尽量使用有意义的名称，最多支持 16 个字符。

   :::
